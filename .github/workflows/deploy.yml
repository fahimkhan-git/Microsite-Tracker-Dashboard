name: Deploy to Production

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  deploy-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Verify no .env files
        run: |
          if [ -f ".env" ]; then
            echo "‚ùå CRITICAL: .env file detected in repository!"
            echo "This should never be committed. Removing from tracking..."
            exit 1
          fi
          
          echo "‚úÖ No sensitive files found"
      
      - name: Deployment Checklist
        run: |
          echo "üöÄ Production Deployment Checklist:"
          echo "‚úÖ Code pushed to main branch"
          echo "‚úÖ All tests passed"
          echo "‚úÖ No sensitive files in repository"
          echo ""
          echo "‚ö†Ô∏è Remember to:"
          echo "1. Set environment variables in hosting platform"
          echo "2. Verify DATABASE_URL points to production"
          echo "3. Set USE_TEMP_STORAGE=false"
          echo "4. Monitor deployment logs"

